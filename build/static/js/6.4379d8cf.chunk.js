(this["webpackJsonpigaku-test-frontend"]=this["webpackJsonpigaku-test-frontend"]||[]).push([[6],{240:function(e,a,t){"use strict";var r=t(165);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t(0)),i=(0,r(t(166)).default)(n.default.createElement("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");a.default=i},292:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return H}));var r=t(0),n=t.n(r),i=t(295),o=t(274),l=t(289),c=t(275),s=t(77),u=t(290),d=t(240),m=t.n(d),p=t(273),h=t(271),g=t(272),f=t(20),v=t(163),b=t.n(v),S=t(164),E=t(47),w=t(48),y=Object(E.createProvider)();function O(){return(O=Object(S.a)(b.a.mark((function e(a){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.getDispatch(),e.prev=1,t.login("LOADING"),e.next=5,w.a.fetch({method:"POST",url:"/auth/login",data:a});case 5:return r=e.sent,t.login("SUCCESS",r.data),e.abrupt("return",r.data);case 10:throw e.prev=10,e.t0=e.catch(1),t.login("ERROR"),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}y.addReducer("login",(function(e,a,t,r){switch(t){case"LOADING":e.loading=!0;break;case"ERROR":e.loading=!1,e.error=r;break;case"SUCCESS":e.loading=!1,e.error=null,e.data=r}return e}));var k=y,x=t(198),C=t(201),T=t(37),j=t(128),P=x.a().shape({email:x.c().email().required("required*"),password:x.c().min(6,"Minimal 6 character.").required("required*")}),R={email:"",password:""};function q(){var e=k.useGlobal(),a=Object(f.a)(e,1)[0],t=Object(j.g)();return{loginState:a,formik:Object(C.a)({validationSchema:P,initialValues:R,onSubmit:function(e){(function(e){return O.apply(this,arguments)})(e).then((function(e){!function e(a){w.a.setToken(a.accessToken),w.a.getToken()?t.push("/todo"):e(a)}(e)})).catch((function(e){console.log("useLogin -> error",e),Object(T.b)("SHOW",{message:"Email or Password wrong!",severity:"error"})}))}}),history:t}}var z=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),H=function(){var e=z(),a=q(),t=a.loginState,r=a.formik;return n.a.createElement(g.a,{component:"main",maxWidth:"xs"},n.a.createElement("div",{className:e.paper},n.a.createElement(i.a,{className:e.avatar},n.a.createElement(m.a,null)),n.a.createElement(p.a,{component:"h1",variant:"h5"},"Sign in"),n.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:r.handleSubmit},n.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:r.handleChange,error:!!r.errors.email&&r.touched.email,helperText:r.touched.email&&r.errors.email,FormHelperTextProps:{style:{fontSize:10}}}),n.a.createElement(l.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:r.handleChange,helperText:r.touched.email&&r.errors.email,error:r.touched.email&&!!r.errors.email,FormHelperTextProps:{style:{fontSize:10}}}),n.a.createElement(o.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:t.loading},t.loading?"Loading...":"Sign In"),n.a.createElement(u.a,{component:"div",display:"flex",justifyContent:"flex-end"},n.a.createElement(s.a,{to:"/register"},n.a.createElement(c.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))))}}}]);
//# sourceMappingURL=6.4379d8cf.chunk.js.map